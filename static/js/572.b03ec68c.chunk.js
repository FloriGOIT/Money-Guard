"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[572],{6302:function(e,t,n){var r=n(6286),s=n(2187),a=n(7462),c=n(5804),i=n(5091),o=n(184);t.Z=function(){var e=(0,i.TH)().pathname.split("/")[1],t="/".concat(e);return(0,o.jsxs)("nav",{className:r.Z.navLinks,children:[(0,o.jsx)(i.rU,{to:"/",className:"/"===t?"".concat(r.Z.selectedNav):null,children:(0,o.jsx)(s.KkC,{})}),(0,o.jsx)(i.rU,{to:"/statistics",className:"/statistics"===t?"".concat(r.Z.selectedNav):null,children:(0,o.jsx)(a.iEw,{})}),(0,o.jsx)(i.rU,{to:"/currency",className:"/currency"===t?"".concat(r.Z.selectedNav):null,children:(0,o.jsx)(c.J1V,{})})]})}},5572:function(e,t,n){n.r(t);var r=n(3433),s=n(9439),a=n(6302),c=n(6286),i=n(1681),o=n(6829),l=n(2791),u=n(8299),m=n(184);t.default=function(e){var t=e.info,n=(0,l.useState)("-"),d=(0,s.Z)(n,2),f=d[0],h=d[1],x=(0,l.useState)(i.VK),p=(0,s.Z)(x,2),j=p[0],Z=p[1],v=(0,l.useState)([]),N=(0,s.Z)(v,2),y=N[0],b=N[1],g=(0,l.useState)([]),C=(0,s.Z)(g,2),k=C[0],w=C[1],S=function(e){return h(e)};(0,l.useEffect)((function(){var e=t.filter((function(e){return Number(e.year)===Number(j)})).map((function(e){return e.month})),n=(0,r.Z)(new Set(e)),s=i.e7.filter((function(e){return n.includes(e.name)}));s.push({number:"-",name:"-"}),b(s)}),[j,t]),(0,l.useEffect)((function(){var e=t.filter((function(e){return Number(e.year)===Number(j)})),n="-"!==f?e.filter((function(e){return e.month===f})):e;w(n)}),[t,f,j]);var E=(k.filter((function(e){return e.type}))||[]).reduce((function(e,t){var n=t.category,r=t.amount,s=t.color,a=parseFloat(r);return e[n]||(e[n]={total:0,color:s}),e[n].total+=a,e}),{}),F=Object.entries(E).map((function(e){var t=(0,s.Z)(e,2),n=t[0],r=t[1];return{category:n,total:r.total,color:r.color}})).sort((function(e,t){return t.total-e.total})),V=k.reduce((function(e,t){var n=!0===t.type?"expenses":!1===t.type?"incomes":null;if(!n)return e;var r=parseFloat(t.amount);return e[n]+=r,e}),{incomes:0,expenses:0}),_=t.map((function(e){return e.date.split("-")[0]})).filter((function(e,t,n){return n.indexOf(e)===t})).sort((function(e,t){return e.localeCompare(t)})).map((function(e){return{number:e,name:e}}));return(0,m.jsxs)("section",{className:c.Z.statisticsWrapper,children:[(0,m.jsx)(a.Z,{}),(0,m.jsxs)("div",{className:c.Z.statistics,children:[(0,m.jsx)("h2",{children:"Statistics"}),(0,m.jsx)(o.Z,{initialValue:j,infoPeriod:_,handleYear:function(e){return Z(e)},handleMonth:S,name:"years"}),(0,m.jsx)(o.Z,{initialValue:f,infoPeriod:y,handleMonth:S,name:"months"}),V.expenses>0?(0,m.jsx)("div",{className:c.Z.chartWrapper,children:(0,m.jsx)(u.Z,{info:F})}):null,(0,m.jsxs)("div",{className:c.Z.tableHeaderCategories,children:[(0,m.jsx)("span",{children:"Category"}),(0,m.jsx)("span",{children:"Sum"})]}),F.map((function(e){return(0,m.jsxs)("div",{className:c.Z.tableRowsCategories,children:[(0,m.jsxs)("div",{className:c.Z.categoryWithColor,children:[(0,m.jsx)("span",{style:{backgroundColor:"".concat(e.color)}}),(0,m.jsx)("span",{children:e.category})]}),(0,m.jsx)("span",{className:c.Z.categoryAmount,children:Number(e.total).toFixed(2)})]},e.category)})),(0,m.jsxs)("div",{className:c.Z.totalCategories,children:[(0,m.jsxs)("div",{className:c.Z.totalIncomes,children:[(0,m.jsx)("span",{children:"Incomes:"}),(0,m.jsx)("span",{children:Number(V.incomes).toFixed(2)})]}),(0,m.jsxs)("div",{className:c.Z.totalExpenses,children:[(0,m.jsx)("span",{children:"Expenses:"}),(0,m.jsx)("span",{children:Number(V.expenses).toFixed(2)})]})]})]})]})}}}]);
//# sourceMappingURL=572.b03ec68c.chunk.js.map