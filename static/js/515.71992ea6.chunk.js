"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[515],{556:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(6429),s=n(5394),r=n(2661),o=n(1462),c=n(5352),l=n(579);const i=()=>{const e=(0,c.zy)().pathname.split("/")[1],t="/".concat(e);return(0,l.jsxs)("nav",{className:a.A.navLinks,children:[(0,l.jsx)(c.N_,{to:"/",className:"/"===t?"".concat(a.A.selectedNav):null,children:(0,l.jsx)(s.qbB,{})}),(0,l.jsx)(c.N_,{to:"/statistics",className:"/statistics"===t?"".concat(a.A.selectedNav):null,children:(0,l.jsx)(r.Kp$,{})}),(0,l.jsx)(c.N_,{to:"/currency",className:"/currency"===t?"".concat(a.A.selectedNav):null,children:(0,l.jsx)(o.ysR,{})})]})}},1579:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(6429),s=n(5043),r=n(3156),o=n(184),c=n(3712),l=n(579);const i=e=>{let{infoPeriod:t,initialValue:n,name:i,handleMonth:d,handleYear:m}=e;const[u,x]=(0,s.useState)(!1),h=(0,s.useRef)(null);(0,s.useEffect)(()=>{const e=e=>{h.current&&!h.current.contains(e.target)&&x(!1)};return u&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[u]);return(0,l.jsxs)("div",{className:a.A.statisticsPeriod,ref:h,children:[(0,l.jsxs)("div",{className:u?"".concat(a.A.headerPeriodOff," ").concat(a.A.headerPeriodOn):"".concat(a.A.headerPeriodOff),children:[(0,l.jsx)("span",{children:n}),(0,l.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),x(e=>!e)},children:u?(0,l.jsx)(o.Ucs,{}):(0,l.jsx)(r.BNo,{})})]}),u&&(0,l.jsx)("ul",{className:"".concat(a.A.listPeriod," ").concat(a.A[i]),children:t.map(e=>(0,l.jsx)("li",{children:(0,l.jsx)("button",{type:"button",onClick:()=>{return t=e.name,x(!1),"months"===i&&d(t),void("years"===i&&(d("-"),m(t)));var t},children:e.name})},(0,c.Ak)()))})]})}},6515:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var a=n(556),s=n(6429),r=n(8215),o=n(1579),c=n(5043),l=n(8903),i=n(579);const d=e=>{let{info:t}=e;const[n,d]=(0,c.useState)("-"),[m,u]=(0,c.useState)(r.vW),[x,h]=(0,c.useState)([]),[p,f]=(0,c.useState)([]),b=e=>d(e);(0,c.useEffect)(()=>{const e=t.filter(e=>Number(e.year)===Number(m)).map(e=>e.month),n=[...new Set(e)],a=r.US.filter(e=>n.includes(e.name));a.push({number:"-",name:"-"}),h(a)},[m,t]),(0,c.useEffect)(()=>{const e=t.filter(e=>Number(e.year)===Number(m)),a="-"!==n?e.filter(e=>e.month===n):e;f(a)},[t,n,m]);const j=(p.filter(e=>e.type)||[]).reduce((e,t)=>{const{category:n,amount:a,color:s}=t,r=parseFloat(a);return e[n]||(e[n]={total:0,color:s}),e[n].total+=r,e},{}),y=Object.entries(j).map(e=>{let[t,n]=e;return{category:t,total:n.total,color:n.color}}).sort((e,t)=>t.total-e.total),N=p.reduce((e,t)=>{const n=!0===t.type?"expenses":!1===t.type?"incomes":null;if(!n)return e;const a=parseFloat(t.amount);return e[n]+=a,e},{incomes:0,expenses:0}),g=t.map(e=>e.date.split("-")[0]).filter((e,t,n)=>n.indexOf(e)===t).sort((e,t)=>e.localeCompare(t)).map(e=>({number:e,name:e}));return(0,i.jsxs)("section",{className:s.A.statisticsWrapper,children:[(0,i.jsx)(a.A,{}),(0,i.jsxs)("div",{className:s.A.statistics,children:[(0,i.jsx)("h2",{children:"Expenses statistics"}),(0,i.jsx)(o.A,{initialValue:m,infoPeriod:g,handleYear:e=>u(e),handleMonth:b,name:"years"}),(0,i.jsx)(o.A,{initialValue:n,infoPeriod:x,handleMonth:b,name:"months"}),N.expenses>0?(0,i.jsx)("div",{className:s.A.chartWrapper,children:(0,i.jsx)(l.A,{info:y})}):null,(0,i.jsxs)("div",{className:s.A.tableHeaderCategories,children:[(0,i.jsx)("span",{children:"Category"}),(0,i.jsx)("span",{children:"Sum"})]}),y.map(e=>(0,i.jsxs)("div",{className:s.A.tableRowsCategories,children:[(0,i.jsxs)("div",{className:s.A.categoryWithColor,children:[(0,i.jsx)("span",{style:{backgroundColor:"".concat(e.color)}}),(0,i.jsx)("span",{children:e.category})]}),(0,i.jsx)("span",{className:s.A.categoryAmount,children:new Intl.NumberFormat("fr-FR").format(Number(e.total).toFixed(2))})]},e.category)),(0,i.jsxs)("div",{className:s.A.totalCategories,children:[(0,i.jsxs)("div",{className:s.A.totalIncomes,children:[(0,i.jsx)("span",{children:"Incomes:"}),(0,i.jsx)("span",{children:new Intl.NumberFormat("fr-FR").format(Number(N.incomes).toFixed(2))})]}),(0,i.jsxs)("div",{className:s.A.totalExpenses,children:[(0,i.jsx)("span",{children:"Expenses:"}),(0,i.jsx)("span",{children:new Intl.NumberFormat("fr-FR").format(Number(N.expenses).toFixed(2))})]})]})]})]})}},8215:(e,t,n)=>{n.d(t,{Ec:()=>i,US:()=>a,kR:()=>c,vW:()=>r});const a=[{number:"01",name:"January"},{number:"02",name:"February"},{number:"03",name:"March"},{number:"04",name:"April"},{number:"05",name:"May"},{number:"06",name:"June"},{number:"07",name:"July"},{number:"08",name:"August"},{number:"09",name:"September"},{number:"10",name:"October"},{number:"11",name:"November"},{number:"12",name:"December"}],s=new Date,r=s.getFullYear(),o=(s.getMonth()+1).toString().padStart(2,"0"),c=a.filter(e=>Number(e.number)===Number(o))[0].name,l=s.getDate().toString().padStart(2,"0"),i="".concat(r,"-").concat(o,"-").concat(l)},8903:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(3670),s=n(7869),r=n(7438),o=n(4055),c=n(6429),l=n(579);const i=e=>{let{active:t,payload:n,info:a}=e;if(t&&n&&n.length){const{category:e,total:t,color:s}=n[0].payload,r=(t/a.reduce((e,t)=>e+t.total,0)*100).toFixed(1);return(0,l.jsxs)("div",{style:{background:"#1f1f1f",padding:"8px 8px",borderRadius:"10px",color:"#fff",border:"2px solid ".concat(s),boxShadow:"0 0 5px rgba(0,0,0,0.3)"},children:[(0,l.jsx)("p",{style:{margin:0,fontWeight:"bold",fontSize:"14px"},children:e}),(0,l.jsxs)("p",{style:{margin:0,fontSize:"14px"},children:[r,"%"]})]})}return null},d=e=>{let{info:t}=e;const n=t.reduce((e,t)=>e+t.total,0);return(0,l.jsx)("div",{style:{textAlign:"center",width:"300px",margin:"0 auto",position:"static"},className:c.A.chart,children:(0,l.jsxs)("div",{style:{margin:"0 auto",position:"relative"},children:[(0,l.jsxs)(o.r,{width:285,height:285,style:{margin:"0 auto"},children:[(0,l.jsx)(r.F,{data:t,cx:"50%",cy:"50%",innerRadius:80,outerRadius:140,dataKey:"total",nameKey:"category",children:t.map((e,t)=>(0,l.jsx)(s.f,{style:{outline:"none"},fill:e.color},"cell-".concat(t)))}),(0,l.jsx)(a.m,{content:(0,l.jsx)(i,{}),info:t})]}),(0,l.jsx)("div",{style:{position:"absolute",top:"120px",left:"50%",transform:"translateX(-52%)",fontWeight:"900",fontSize:"30px",color:"rgba(255, 130, 130, 1)",paddingLeft:"10px"},children:new Intl.NumberFormat("fr-FR").format(n.toFixed(2))})]})})}}}]);
//# sourceMappingURL=515.71992ea6.chunk.js.map