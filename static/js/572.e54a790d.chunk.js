"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[572],{5371:function(e,n,t){var r=t(828),a=t(3468),o=t(1048),s=t(2949),i=t(6286),c=t(184),u=function(e){var n=e.active,t=e.payload,r=e.info;if(n&&t&&t.length){var a=t[0].payload,o=a.category,s=a.total,i=a.color,u=(s/r.reduce((function(e,n){return e+n.total}),0)*100).toFixed(1);return(0,c.jsxs)("div",{style:{background:"#1f1f1f",padding:"8px 8px",borderRadius:"10px",color:"#fff",border:"2px solid ".concat(i),boxShadow:"0 0 5px rgba(0,0,0,0.3)"},children:[(0,c.jsx)("p",{style:{margin:0,fontWeight:"bold",fontSize:"14px"},children:o}),(0,c.jsxs)("p",{style:{margin:0,fontSize:"14px"},children:[u,"%"]})]})}return null};n.Z=function(e){var n=e.info,t=n.reduce((function(e,n){return e+n.total}),0);return(0,c.jsx)("div",{style:{textAlign:"center",width:"300px",margin:"0 auto",position:"static"},className:i.Z.chart,children:(0,c.jsxs)("div",{style:{margin:"0 auto",position:"relative"},children:[(0,c.jsxs)(r.u,{width:285,height:285,style:{margin:"0 auto"},children:[(0,c.jsx)(a.b,{data:n,cx:"50%",cy:"50%",innerRadius:80,outerRadius:140,dataKey:"total",nameKey:"category",children:n.map((function(e,n){return(0,c.jsx)(o.b,{fill:e.color},"cell-".concat(n))}))}),(0,c.jsx)(s.u,{content:(0,c.jsx)(u,{}),info:n})]}),(0,c.jsx)("div",{style:{position:"absolute",top:"120px",left:"50%",transform:"translateX(-52%)",fontWeight:"900",fontSize:"30px",color:"rgba(255, 130, 130, 1)",paddingLeft:"10px"},children:new Intl.NumberFormat("fr-FR").format(t.toFixed(2))})]})})}},6829:function(e,n,t){var r=t(9439),a=t(6286),o=t(2791),s=t(4316),i=t(2202),c=t(422),u=t(184);n.Z=function(e){var n=e.infoPeriod,t=e.initialValue,l=e.name,m=e.handleMonth,d=e.handleYear,f=(0,o.useState)(!1),x=(0,r.Z)(f,2),h=x[0],p=x[1],b=(0,o.useRef)(null);(0,o.useEffect)((function(){var e=function(e){b.current&&!b.current.contains(e.target)&&p(!1)};return h&&document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[h]);return(0,u.jsxs)("div",{className:a.Z.statisticsPeriod,ref:b,children:[(0,u.jsxs)("div",{className:h?"".concat(a.Z.headerPeriodOff," ").concat(a.Z.headerPeriodOn):"".concat(a.Z.headerPeriodOff),children:[(0,u.jsx)("span",{children:t}),(0,u.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),p((function(e){return!e}))},children:h?(0,u.jsx)(i.s$2,{}):(0,u.jsx)(s.iUH,{})})]}),h&&(0,u.jsx)("ul",{className:"".concat(a.Z.listPeriod," ").concat(a.Z[l]),children:n.map((function(e){return(0,u.jsx)("li",{children:(0,u.jsx)("button",{type:"button",onClick:function(){return n=e.name,p(!1),"months"===l&&m(n),void("years"===l&&(m("-"),d(n)));var n},children:e.name})},(0,c.x0)())}))})]})}},6302:function(e,n,t){var r=t(6286),a=t(2187),o=t(7462),s=t(5804),i=t(5091),c=t(184);n.Z=function(){var e=(0,i.TH)().pathname.split("/")[1],n="/".concat(e);return(0,c.jsxs)("nav",{className:r.Z.navLinks,children:[(0,c.jsx)(i.rU,{to:"/",className:"/"===n?"".concat(r.Z.selectedNav):null,children:(0,c.jsx)(a.KkC,{})}),(0,c.jsx)(i.rU,{to:"/statistics",className:"/statistics"===n?"".concat(r.Z.selectedNav):null,children:(0,c.jsx)(o.iEw,{})}),(0,c.jsx)(i.rU,{to:"/currency",className:"/currency"===n?"".concat(r.Z.selectedNav):null,children:(0,c.jsx)(s.J1V,{})})]})}},1681:function(e,n,t){t.d(n,{Lg:function(){return u},VK:function(){return o},e7:function(){return r},nU:function(){return i}});var r=[{number:"01",name:"January"},{number:"02",name:"February"},{number:"03",name:"March"},{number:"04",name:"April"},{number:"05",name:"May"},{number:"06",name:"June"},{number:"07",name:"July"},{number:"08",name:"August"},{number:"09",name:"September"},{number:"10",name:"October"},{number:"11",name:"November"},{number:"12",name:"December"}],a=new Date,o=a.getFullYear(),s=(a.getMonth()+1).toString().padStart(2,"0"),i=r.filter((function(e){return Number(e.number)===Number(s)}))[0].name,c=a.getDate().toString().padStart(2,"0"),u="".concat(o,"-").concat(s,"-").concat(c)},5572:function(e,n,t){t.r(n);var r=t(3433),a=t(9439),o=t(6302),s=t(6286),i=t(1681),c=t(6829),u=t(2791),l=t(5371),m=t(184);n.default=function(e){var n=e.info,t=(0,u.useState)("-"),d=(0,a.Z)(t,2),f=d[0],x=d[1],h=(0,u.useState)(i.VK),p=(0,a.Z)(h,2),b=p[0],j=p[1],v=(0,u.useState)([]),y=(0,a.Z)(v,2),g=y[0],N=y[1],Z=(0,u.useState)([]),w=(0,a.Z)(Z,2),F=w[0],S=w[1],k=function(e){return x(e)};(0,u.useEffect)((function(){var e=n.filter((function(e){return Number(e.year)===Number(b)})).map((function(e){return e.month})),t=(0,r.Z)(new Set(e)),a=i.e7.filter((function(e){return t.includes(e.name)}));a.push({number:"-",name:"-"}),N(a)}),[b,n]),(0,u.useEffect)((function(){var e=n.filter((function(e){return Number(e.year)===Number(b)})),t="-"!==f?e.filter((function(e){return e.month===f})):e;S(t)}),[n,f,b]);var C=(F.filter((function(e){return e.type}))||[]).reduce((function(e,n){var t=n.category,r=n.amount,a=n.color,o=parseFloat(r);return e[t]||(e[t]={total:0,color:a}),e[t].total+=o,e}),{}),R=Object.entries(C).map((function(e){var n=(0,a.Z)(e,2),t=n[0],r=n[1];return{category:t,total:r.total,color:r.color}})).sort((function(e,n){return n.total-e.total})),E=F.reduce((function(e,n){var t=!0===n.type?"expenses":!1===n.type?"incomes":null;if(!t)return e;var r=parseFloat(n.amount);return e[t]+=r,e}),{incomes:0,expenses:0}),P=n.map((function(e){return e.date.split("-")[0]})).filter((function(e,n,t){return t.indexOf(e)===n})).sort((function(e,n){return e.localeCompare(n)})).map((function(e){return{number:e,name:e}}));return(0,m.jsxs)("section",{className:s.Z.statisticsWrapper,children:[(0,m.jsx)(o.Z,{}),(0,m.jsxs)("div",{className:s.Z.statistics,children:[(0,m.jsx)("h2",{children:"Statistics"}),(0,m.jsx)(c.Z,{initialValue:b,infoPeriod:P,handleYear:function(e){return j(e)},handleMonth:k,name:"years"}),(0,m.jsx)(c.Z,{initialValue:f,infoPeriod:g,handleMonth:k,name:"months"}),E.expenses>0?(0,m.jsx)("div",{className:s.Z.chartWrapper,children:(0,m.jsx)(l.Z,{info:R})}):null,(0,m.jsxs)("div",{className:s.Z.tableHeaderCategories,children:[(0,m.jsx)("span",{children:"Category"}),(0,m.jsx)("span",{children:"Sum"})]}),R.map((function(e){return(0,m.jsxs)("div",{className:s.Z.tableRowsCategories,children:[(0,m.jsxs)("div",{className:s.Z.categoryWithColor,children:[(0,m.jsx)("span",{style:{backgroundColor:"".concat(e.color)}}),(0,m.jsx)("span",{children:e.category})]}),(0,m.jsx)("span",{className:s.Z.categoryAmount,children:new Intl.NumberFormat("fr-FR").format(Number(e.total).toFixed(2))})]},e.category)})),(0,m.jsxs)("div",{className:s.Z.totalCategories,children:[(0,m.jsxs)("div",{className:s.Z.totalIncomes,children:[(0,m.jsx)("span",{children:"Incomes:"}),(0,m.jsx)("span",{children:new Intl.NumberFormat("fr-FR").format(Number(E.incomes).toFixed(2))})]}),(0,m.jsxs)("div",{className:s.Z.totalExpenses,children:[(0,m.jsx)("span",{children:"Expenses:"}),(0,m.jsx)("span",{children:new Intl.NumberFormat("fr-FR").format(Number(E.expenses).toFixed(2))})]})]})]})]})}}}]);
//# sourceMappingURL=572.e54a790d.chunk.js.map